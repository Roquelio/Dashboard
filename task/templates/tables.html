{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Dashboard - Admin</title>
        <link href="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/style.min.css" rel="stylesheet" />
        <link href="{% static "css/styles.css" %}" rel="stylesheet" />
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        {% comment %} <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous"> {% endcomment %}
        <link rel="stylesheet" href="https://cdn.datatables.net/1.13.1/css/dataTables.bootstrap5.min.css" />

        <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.css"/>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
        <script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>

    </head>
    <body class="sb-nav-fixed">
        <nav class="sb-topnav navbar navbar-expand navbar-dark bg-dark">
            <!-- Navbar Brand-->
            <a class="navbar-brand ps-3 ms-4" href="index.html">   Arbitrium</a>
            <!-- Sidebar Toggle-->
            <button class="btn btn-link btn-sm order-1 order-lg-0 me-4 me-lg-0" id="sidebarToggle" href="#!"><i class="fas fa-bars"></i></button>
            <!-- Navbar Search-->
            {% comment %} <form class="d-none d-md-inline-block form-inline ms-auto me-0 me-md-3 my-2 my-md-0">
                <div class="input-group">
                    <input class="form-control" type="text" placeholder="Search for..." aria-label="Search for..." aria-describedby="btnNavbarSearch" />
                    <button class="btn btn-primary" id="btnNavbarSearch" type="button"><i class="fas fa-search"></i></button>
                </div>
            </form> {% endcomment %}
            <!-- Navbar-->
            <ul class="navbar-nav  ms-auto me-0 me-md-3 my-2 my-md-0">
                <li class="nav-item dropdown">
                    <div class="dropdown">
                        <a class="nav-link dropdown-toggle" id="navbarDropdown" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false"><i class="fas fa-user fa-fw"></i></a>
                        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#!">Configuración</a></li>
                            <li><hr class="dropdown-divider" /></li>
                            <li><a class="dropdown-item" href="/logout">Cerrar Sesión</a></li>
                        </ul>
                    </div>              
                </li>
            </ul>
        </nav>
        <div id="layoutSidenav">
            <div id="layoutSidenav_nav">
                <nav class="sb-sidenav accordion sb-sidenav-dark" id="sidenavAccordion">
                    <div class="sb-sidenav-menu">
                        <div class="nav">
                            <div class="sb-sidenav-menu-heading">Principal</div>
                            <a class="nav-link" href="/dash/">
                                <div class="sb-nav-link-icon"><i class="fas fa-tachometer-alt"></i></div>
                                Dashboard
                            </a>
                            <div class="sb-sidenav-menu-heading">Herramientas</div>
                            <a class="nav-link" href="{% url 'tables' %}">
                                <div class="sb-nav-link-icon"><i class="fas fa-table"></i></div>
                                Tables
                            </a>
                        </div> 
                    </div>
                </nav>
            </div>
            <div id="layoutSidenav_content">
                <main>
                    <div class="container-fluid px-4">
                        <h1 class="mt-4">Scraper Binance</h1>
                        <br>
                        <div class="card mb-4">
                        <div class="card-body">
                            <h2>USDT</h2>
                            <table class="table table-striped" id="USDT_table">
                                <thead>
                                    <tr>
                                        <th>Tipo</th>
                                        <th>Usuario</th>
                                        <th>Precio</th>
                                        <th>Disponible</th>
                                        <th>Minimo</th>
                                        <th>Maximo</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaBody_data">
                                    <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                </tbody>
                            </table>
                        </div>
                        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                        <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                        <script>
                            let dataTable;
                            let init = false;
                        
                            // Función para inicializar DataTables con el idioma español
                            const initDataTable = async () => {
                                if (init) {
                                    // Destruir DataTable si ya está inicializado
                                    dataTable.destroy();
                                }
                        
                                // Obtener y mostrar datos
                                await listData();
                        
                                // Inicializar DataTable con lengthMenu configurado
                                dataTable = $('#USDT_table').DataTable({
                                    "language": {
                                        "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                    },
                                    "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                });
                        
                                dataTable.draw();
                        
                                // Marcar que la inicialización se ha completado
                                init = true;
                            };
                        
                            // Función para obtener datos
                            const listData = async () => {
                                try {
                                    // Obtener datos de la API
                                    const response = await fetch("https://test-gliv.onrender.com/getScrapUsdt");
                                    const data = await response.json();
                        
                                    let content = '';
                        
                                    // Iterar sobre los datos y construir filas de la tabla
                                    data?.buy?.forEach((ad) => {
                                        // Obtener el color según el tipo de transacción
                                        const color = ad.TradeType === 'buy' ? 'red' : 'green';
                        
                                        // Construir la fila de la tabla con el color correspondiente
                                        content += `
                                            <tr>
                                                <td style="color: ${color};">${ad.TradeType}</td>
                                                <td>${ad.NickName}</td>
                                                <td>${ad.Price}</td>
                                                <td>${ad.TradableQuantity}</td>
                                                <td>${ad.minSingleTransAmount}</td>
                                                <td>${ad.dynamicMaxSingleTransAmount}</td>
                                            </tr>`;
                                    });
                        
                                    data?.sell?.forEach((ad) => {
                                        // Obtener el color según el tipo de transacción
                                        const color = ad.TradeType === 'sell' ? 'green' : 'red';
                        
                                        // Construir la fila de la tabla con el color correspondiente
                                        content += `
                                            <tr>
                                                <td style="color: ${color};">${ad.TradeType}</td>
                                                <td>${ad.NickName}</td>
                                                <td>${ad.Price}</td>
                                                <td>${ad.TradableQuantity}</td>
                                                <td>${ad.minSingleTransAmount}</td>
                                                <td>${ad.dynamicMaxSingleTransAmount}</td>
                                            </tr>`;
                                    });
                        
                                    // Insertar filas en el cuerpo de la tabla
                                    const tablaBody_data = $("#tablaBody_data");
                                    tablaBody_data.html(content);
                                } catch (ex) {
                                    // Manejar errores
                                    console.error(ex);
                                }
                            };
                        
                            // Evento de carga de la ventana, inicia DataTables
                            window.addEventListener('load', async () => {
                                await initDataTable();
                        
                                // Actualizar cada 5 segundos
                                setInterval(async () => {
                                    await listData();
                                    dataTable.clear().rows.add($("#tablaBody_data tr")).draw();
                                }, 10000);
                            });
                        </script>
                    </div>
                        <div class="card mb-4">
                            <div class="card-body">
                                <h2>BTC</h2>
                                <table class="table table-striped" id="BTC_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_btc">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable2;
                                let init2 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable2 = async () => {
                                    if (init2) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable2.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData2();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable2 = $('#BTC_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable2.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init2 = true;
                                };
                            
                                // Función para obtener datos
                                const listData2 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapBtc");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_btc = $("#tablaBody_data_btc");
                                        tablaBody_data_btc.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable2();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData2();
                                        dataTable2.clear().rows.add($("#tablaBody_data_btc tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                        <div class="card mb-4">
                            <div class="card-body">
                                <h2>ETH</h2>
                                <table class="table table-striped" id="ETH_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_eth">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable3;
                                let init3 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable3 = async () => {
                                    if (init3) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable3.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData3();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable3 = $('#ETH_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable3.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init3 = true;
                                };
                            
                                // Función para obtener datos
                                const listData3 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapEth");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_eth = $("#tablaBody_data_eth");
                                        tablaBody_data_eth.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable3();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData3();
                                        dataTable3.clear().rows.add($("#tablaBody_data_eth tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                        <div class="card mb-4">
                            <div class="card-body">
                                <h2>BNB</h2>
                                <table class="table table-striped" id="BNB_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_bnb">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable4;
                                let init4 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable4 = async () => {
                                    if (init4) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable4.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData4();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable4 = $('#BNB_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable4.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init4 = true;
                                };
                            
                                // Función para obtener datos
                                const listData4 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapBnb");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_bnb = $("#tablaBody_data_bnb");
                                        tablaBody_data_bnb.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable4();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData4();
                                        dataTable4.clear().rows.add($("#tablaBody_data_bnb tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                        <div class="card mb-4">
                            <div class="card-body">
                                <h2>DAI</h2>
                                <table class="table table-striped" id="DAI_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_dai">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable5;
                                let init5 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable5 = async () => {
                                    if (init5) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable5.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData5();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable5 = $('#DAI_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable5.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init5 = true;
                                };
                            
                                // Función para obtener datos
                                const listData5 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapDai");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_dai = $("#tablaBody_data_dai");
                                        tablaBody_data_dai.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable5();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData5();
                                        dataTable5.clear().rows.add($("#tablaBody_data_dai tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                        <div class="card mb-4">
                            <div class="card-body"> 
                                <h2>FDUSD</h2>
                                <table class="table table-striped" id="FDUSD_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_fdusd">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable6;
                                let init6 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable6 = async () => {
                                    if (init6) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable6.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData6();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable6 = $('#FDUSD_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable6.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init6 = true;
                                };
                            
                                // Función para obtener datos
                                const listData6 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapFdusd");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_fdusd = $("#tablaBody_data_fdusd");
                                        tablaBody_data_fdusd.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable6();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData6();
                                        dataTable6.clear().rows.add($("#tablaBody_data_fdusd tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                        <div class="card mb-4">
                            <div class="card-body">
                                <h2>DOGUE</h2>
                                <table class="table table-striped" id="DOGUE_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_dogue">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable7;
                                let init7 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable7 = async () => {
                                    if (init7) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable7.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData7();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable7 = $('#DOGUE_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable7.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init7 = true;
                                };
                            
                                // Función para obtener datos
                                const listData7 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapDogue");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_dogue = $("#tablaBody_data_dogue");
                                        tablaBody_data_dogue.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable7();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData7();
                                        dataTable7.clear().rows.add($("#tablaBody_data_dogue tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                        <div class="card mb-4">
                            <div class="card-body">
                                <h2>ADA</h2>
                                <table class="table table-striped" id="ADA_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_ada">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable8;
                                let init8 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable8 = async () => {
                                    if (init8) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable8.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData8();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable8 = $('#ADA_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable8.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init8 = true;
                                };
                            
                                // Función para obtener datos
                                const listData8 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapAda");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_ada = $("#tablaBody_data_ada");
                                        tablaBody_data_ada.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable8();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData8();
                                        dataTable8.clear().rows.add($("#tablaBody_data_ada tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                        <div class="card mb-4">
                            <div class="card-body">
                                <h2>XRP</h2>
                                <table class="table table-striped" id="XRP_table">
                                    <thead>
                                        <tr>
                                            <th>Tipo</th>
                                            <th>Usuario</th>
                                            <th>Precio</th>
                                            <th>Disponible</th>
                                            <th>Minimo</th>
                                            <th>Maximo</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tablaBody_data_xrp">
                                        <!-- La carga de datos se realiza después de obtenerlos de la ruta -->
                                    </tbody>
                                </table>
                            </div>
                            <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
                            <script src="https://cdn.datatables.net/v/bs4/dt-1.11.5/datatables.min.js"></script>
                            <script>
                                let dataTable9;
                                let init9 = false;
                            
                                // Función para inicializar DataTables con el idioma español
                                const initDataTable9 = async () => {
                                    if (init9) {
                                        // Destruir DataTable si ya está inicializado
                                        dataTable9.destroy();
                                    }
                            
                                    // Obtener y mostrar datos
                                    await listData9();
                            
                                    // Inicializar DataTable con lengthMenu configurado
                                    dataTable9 = $('#XRP_table').DataTable({
                                        "language": {
                                            "url": "https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"
                                        },
                                        "lengthMenu": [5, 10, 15, 20], // Establecer el número mínimo de visualización de filas a 5
                                    });
                            
                                    dataTable9.draw();
                            
                                    // Marcar que la inicialización se ha completado
                                    init9 = true;
                                };
                            
                                // Función para obtener datos
                                const listData9 = async () => {
                                    try {
                                        // Obtener datos de la API
                                        const response = await fetch("https://test-gliv.onrender.com/getScrapXrp");
                                        const data = await response.json();
                            
                                        let content = '';
                            
                                        // Iterar sobre los datos y construir filas de la tabla
                                        data?.buy?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'buy' ? 'red' : 'green';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        data?.sell?.forEach((ad) => {
                                            // Obtener el color según el tipo de transacción
                                            const color = ad.TradeType === 'sell' ? 'green' : 'red';
                            
                                            // Construir la fila de la tabla con el color correspondiente
                                            content += `
                                                <tr>
                                                    <td style="color: ${color};">${ad.TradeType}</td>
                                                    <td>${ad.NickName}</td>
                                                    <td>${ad.Price}</td>
                                                    <td>${ad.TradableQuantity}</td>
                                                    <td>${ad.minSingleTransAmount}</td>
                                                    <td>${ad.dynamicMaxSingleTransAmount}</td>
                                                </tr>`;
                                        });
                            
                                        // Insertar filas en el cuerpo de la tabla
                                        const tablaBody_data_xrp = $("#tablaBody_data_xrp");
                                        tablaBody_data_xrp.html(content);
                                    } catch (ex) {
                                        // Manejar errores
                                        console.error(ex);
                                    }
                                };
                            
                                // Evento de carga de la ventana, inicia DataTables
                                window.addEventListener('load', async () => {
                                    await initDataTable9();
                            
                                    // Actualizar cada 5 segundos
                                    setInterval(async () => {
                                        await listData9();
                                        dataTable9.clear().rows.add($("#tablaBody_data_xrp tr")).draw();
                                    }, 10000);
                                });
                            </script>
                        </div>
                                          
                </main>
            
            <footer class="py-4 bg-light mt-auto">
                <div class="container-fluid px-4">
                    <div class="d-flex align-items-center justify-content-between small">
                        <div class="text-muted">Copyright &copy; Clever & Siddhi 2023</div>
                    </div>
                </div>
            </footer>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
    <script src='{% static "js/scripts.js" %}'></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.8.0/Chart.min.js" crossorigin="anonymous"></script>

    <script src='{% static "js/query.js" %}'></script> 
    <script src='{% static "js/xd.js" %}'></script> 

    {% comment %} <script src='{% static "assets/demo/chart-area-demo.js" %}'></script> {% endcomment %}
    <script src='{% static "assets/demo/chart-bar-demo.js" %}'></script>
    <script src="https://cdn.jsdelivr.net/npm/simple-datatables@7.1.2/dist/umd/simple-datatables.min.js" crossorigin="anonymous"></script>
    <script src='{% static "js/datatables-simple-demo.js" %}'></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <!-- jQuery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <!-- DataTable.js -->
    <script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>

    <!-- Agrega el archivo de idioma después de la referencia principal de DataTables -->
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" crossorigin="anonymous"></script>


    <script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json"></script>


    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

</body>
</html>